zitadel:
  zitadel:
    masterkeySecretName: zitadel
    configSecretName: zitadel
    configSecretKey: config
    configmapConfig:
      ExternalDomain: sso.dietz.dev
      ExternalPort: 443

  ingress:
    enabled: true
    className: nginx
    annotations:
      nginx.ingress.kubernetes.io/preserve-host: "true"
      nginx.ingress.kubernetes.io/use-forwarded-headers: "true"
      cert-manager.io/cluster-issuer: "letsencrypt"
      kubernetes.io/tls-acme: "true"
    hosts:
      - host: sso.dietz.dev
        paths:
          - path: /
            pathType: Prefix
    tls:
      - secretName: sso-dietz-dev
        hosts:
          - sso.dietz.dev
  login:
    ingress:
      enabled: true
      className: nginx
      annotations:
        nginx.ingress.kubernetes.io/preserve-host: "true"
        nginx.ingress.kubernetes.io/use-forwarded-headers: "true"
        cert-manager.io/cluster-issuer: "letsencrypt"
        kubernetes.io/tls-acme: "true"
      hosts:
        - host: sso.dietz.dev
          paths:
            - path: /ui/v2/login
              pathType: Prefix
      tls:
        - secretName: sso-dietz-dev
          hosts:
            - sso.dietz.dev
