keycloak:
  replicaCount: 1
  
  postgresql:
    enabled: false
  
  externalDatabase:
    existingSecret: keycloak-database-secret
    existingSecretHostKey: postgres-host
    existingSecretPortKey: postgres-port
    existingSecretUserKey: postgres-user
    existingSecretDatabaseKey: postgres-database
    existingSecretPasswordKey: postgres-password
  
  auth:
    adminUser: admin
    existingSecret: keycloak-admin-secret
    passwordSecretKey: admin-password

  proxyHeaders: "xforwarded"

  ingress:
    enabled: true
    ingressClassName: nginx
    hostname: auth.dietz.dev
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt
      nginx.ingress.kubernetes.io/auth-snippet: |
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    extraTls:
      - hosts:
          - auth.dietz.dev
        secretName: keycloak-cert

  adminIngress:
    enabled: true
    ingressClassName: nginx
    hostname: auth-admin.dietz.dev
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt
    extraTls:
      - hosts:
          - auth-admin.dietz.dev
        secretName: keycloak-admin-cert

